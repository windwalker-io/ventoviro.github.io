<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="shortcut icon" href="../../../media/images/favicon.ico" />

    <title>Config &amp; Setting | Windwalker - PHP Rapid Development Framework</title>

    <meta name="description" content="">
    <meta name="generator" content="The Time Machine">

    <meta property="og:title" content="Config &amp; Setting | Windwalker - PHP Rapid Development Framework">
    <meta property="og:site_name" content="Windwalker Framework">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-material-design/0.5.10/css/bootstrap-material-design.min.css" />
    <link rel="stylesheet" href="../../../media/css/main.css" />
    
                                                                            </head>
<body class="">

    <section id="header">

            <nav id="nav">

    <div class="navbar navbar-transparent">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-responsive-collapse">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="../../../">
                    <img class="img-invert" src="../../../media/images/logo/windwalker-logo-150.png" alt="Logo" style="max-height: 100%">
                </a>
            </div>
            <div class="navbar-collapse collapse navbar-responsive-collapse">
                                                                                                                                                                                                                                                                                

                <ul class="mainmenu nav navbar-nav navbar-right">
                    <li class="">
                        <a href="../../../about/">
                            <i class="material-icons">change_history</i>
                            <span class="menu-item-title">About</span>
                        </a>
                    </li>

                    <li class="active">
                        <a href="../../../documentation/3.x/start/installation.html">
                            <i class="material-icons">description</i>
                            <span class="menu-item-title">Documentation</span>
                        </a>
                    </li>

                    <li class="">
                        <a href="../../../rad/start/introduction.html">
                            <i class="material-icons">graphic_eq</i>
                            <span class="menu-item-title">RAD</span>
                        </a>
                    </li>

                    <li class="">
                        <a href="https://github.com/ventoviro/windwalker" target="_blank">
                            <i class="fa fa-fw fa-github"></i>
                            <span class="menu-item-title">GitHub</span>
                        </a>
                    </li>

                    <li>
                                    <div class="btn-group" style="margin-left: 15px">
                <button type="button" class="btn btn-default btn-raised dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    2.1 <i class="fa fa-caret-down"></i>
                </button>
                <ul class="dropdown-menu">
                    <li class="">
                        <a href="../../../documentation/3.x/core/config.html">3.x</a>
                    </li>

                    <li class="active">
                        <a href="../../../documentation/2.1/start/config.html">2.1</a>
                    </li>
                </ul>
            </div>
                            </li>
                </ul>
            </div>
        </div>
    </div>

</nav>

        <section id="banner" class="container text-center">
            <div class="row">
                <div class="banner-content col-md-10">
                    <h1 class="banner-title">Config &amp; Setting</h1>
                </div>
            </div>
        </section>

    </section>

<div id="main-body" class="main main-raised main-raised-bottom">
        <section id="main-body" class="container main-block">
        <div class="row">
            <div class="col-md-3">
                    <div class="uk-width-medium-1-4 uk-container-center">
        <ul class="nav nav-stacked side-menu side-bar">
    
                
        <li class="nav-header">
        <h3 class="slab-font">Start</h3>
    </li>
                    <li class="">
                <a class="withripple" href="../../../documentation/2.1/start/getting-started.html">Getting Started</a>
            </li>
                    <li class="">
                <a class="withripple" href="../../../documentation/2.1/start/routing-controller.html">Routing And Controller</a>
            </li>
                    <li class="">
                <a class="withripple" href="../../../documentation/2.1/start/package-system.html">Package System (Bundle)</a>
            </li>
                    <li class="active">
                <a class="withripple" href="../../../documentation/2.1/start/config.html">Config &amp; Setting</a>
            </li>
                    <li class="">
                <a class="withripple" href="../../../documentation/2.1/start/request-input.html">Request and Input</a>
            </li>
                    <li class="">
                <a class="withripple" href="../../../documentation/2.1/start/ioc-container.html">IoC Container</a>
            </li>
                    <li class="">
                <a class="withripple" href="../../../documentation/2.1/start/service-provider.html">Service Provider</a>
            </li>
        
           <li class="nav-header">
        <h3 class="slab-font">MVC</h3>
    </li>
                    <li class="">
                <a class="withripple" href="../../../documentation/2.1/mvc/use-controller.html">Use Controller</a>
            </li>
                    <li class="">
                <a class="withripple" href="../../../documentation/2.1/mvc/class-resolvers.html">Class Resolvers</a>
            </li>
                    <li class="">
                <a class="withripple" href="../../../documentation/2.1/mvc/view-templating.html">View and Templating</a>
            </li>
                    <li class="">
                <a class="withripple" href="../../../documentation/2.1/mvc/model-database.html">Model and Database</a>
            </li>
                    <li class="">
                <a class="withripple" href="../../../documentation/2.1/mvc/view-model.html">ViewModel</a>
            </li>
                    <li class="">
                <a class="withripple" href="../../../documentation/2.1/mvc/uri-route-building.html">URI and Route Building</a>
            </li>
        
           <li class="nav-header">
        <h3 class="slab-font">Database</h3>
    </li>
                    <li class="">
                <a class="withripple" href="../../../documentation/2.1/db/basic.html">Basic Usage</a>
            </li>
                    <li class="">
                <a class="withripple" href="../../../documentation/2.1/db/read-write.html">Read and Write</a>
            </li>
                    <li class="">
                <a class="withripple" href="../../../documentation/2.1/db/table-schema.html">Table and Schema</a>
            </li>
                    <li class="">
                <a class="withripple" href="../../../documentation/2.1/db/query-builder.html">Query Builder</a>
            </li>
                    <li class="">
                <a class="withripple" href="../../../documentation/2.1/db/active-record.html">ActiveRecord</a>
            </li>
                    <li class="">
                <a class="withripple" href="../../../documentation/2.1/db/datamapper.html">DataMapper</a>
            </li>
                    <li class="">
                <a class="withripple" href="../../../documentation/2.1/db/migration.html">Migration And Seeding</a>
            </li>
        
           <li class="nav-header">
        <h3 class="slab-font">Console</h3>
    </li>
                    <li class="">
                <a class="withripple" href="../../../documentation/2.1/console/console-basic.html">Basic Usage</a>
            </li>
                    <li class="">
                <a class="withripple" href="../../../documentation/2.1/console/custom-commands.html">Custom Commands</a>
            </li>
        
           <li class="nav-header">
        <h3 class="slab-font">More</h3>
    </li>
                    <li class="">
                <a class="withripple" href="../../../documentation/2.1/more/authentication.html">Authentication</a>
            </li>
                    <li class="">
                <a class="withripple" href="../../../documentation/2.1/more/caching.html">Caching</a>
            </li>
                    <li class="">
                <a class="withripple" href="../../../documentation/2.1/more/events.html">Events</a>
            </li>
                    <li class="">
                <a class="withripple" href="../../../documentation/2.1/more/data-object.html">Data Object</a>
            </li>
                    <li class="">
                <a class="withripple" href="../../../documentation/2.1/more/registry.html">Registry Object</a>
            </li>
                    <li class="">
                <a class="withripple" href="../../../documentation/2.1/more/widget-renderer.html">Widget and Renderer</a>
            </li>
                    <li class="">
                <a class="withripple" href="../../../documentation/2.1/more/form-builder.html">Form Builder</a>
            </li>
                    <li class="">
                <a class="withripple" href="../../../documentation/2.1/more/html-builder.html">HTML Builder</a>
            </li>
                    <li class="">
                <a class="withripple" href="../../../documentation/2.1/more/languages.html">Languages</a>
            </li>
                    <li class="">
                <a class="withripple" href="../../../documentation/2.1/more/pagination.html">Pagination</a>
            </li>
                    <li class="">
                <a class="withripple" href="../../../documentation/2.1/more/session.html">Session</a>
            </li>
                    <li class="">
                <a class="withripple" href="../../../documentation/2.1/more/datetime.html">DateTime</a>
            </li>
                    <li class="">
                <a class="withripple" href="../../../documentation/2.1/more/tests.html">Tests</a>
            </li>
                    <li class="">
                <a class="withripple" href="../../../documentation/2.1/more/validation.html">Validation</a>
            </li>
                    <li class="">
                <a class="withripple" href="../../../documentation/2.1/more/debugging.html">Debugging</a>
            </li>
                    <li class="">
                <a class="withripple" href="../../../documentation/2.1/more/error-handling.html">Error Handling</a>
            </li>
                    <li class="">
                <a class="withripple" href="../../../documentation/2.1/more/more-packages.html">More Packages</a>
            </li>
        
       </ul>
    </div>
            </div>

            <div class="col-md-9">
                <article class="article-content">
                    <h2>How to Configure Your Application</h2>

<p>Windwalker stores config files in <code>/etc</code> folder, you can see <code>config.yml</code> and <code>secret.yml</code> file. These two config files will be merged
in runtime, so settings in secret.yml can override the same key in config.yml.</p>

<h3>config.yml</h3>

<p>The <code>config.yml</code> stores some global system settings includes the language locale, session time, cache storage, timezone etc.
Which is your application need and will be track by VCS, .</p>

<h3>secret.yml</h3>

<p>And the <code>secret.yml</code> stores some customize or sensitive settings which you don't want to track by VCS, for example, the database account
or the 3rd party service API key, you will not hope to push these information to GitHub or other public VCS service, so we will
write some keys in <code>secret.dist.yml</code>.</p>

<p>For example, we can prepare some empty keys in <code>secret.dist.yml</code> then push this file to VCS.</p>

<pre><code class="yaml">## secret.dist.yml

## Keep NULL to notice developers fill this data.
amazon:
    key: ~
    secret: ~
</code></pre>

<p>When Someone clone this project, they must copy <code>secret.dist.yml</code> to <code>secret.yml</code> and fill the keys.</p>

<pre><code class="yaml">## secret.yml

## Fill real data to use.
amazon:
    key: ************
    secret: *************************
</code></pre>

<h3>Override config.yml</h3>

<p>If you set a config in config.yml</p>

<pre><code class="yaml">## config.yml

foo: bar
</code></pre>

<p>You can override it in secret.yml</p>

<pre><code class="yaml">## secret.yml

foo: yoo
</code></pre>

<p>Now the <code>foo</code> value will be <code>yoo</code> not <code>bar</code>.</p>

<h2>Get &amp; Set Config Data</h2>

<p>In Application, you can use <code>get()</code> to get config.</p>

<pre><code class="php">// Use Ioc get Application then get config
$value = Ioc::getApplication()-&gt;get('foo', [default value]);
</code></pre>

<pre><code class="php">// Get config in controller
$value = $this-&gt;app-&gt;get('foo', [default value]);

// Set data
$this-&gt;app-&gt;set('foo', 'baz');
</code></pre>

<p>Get config by Config object.</p>

<pre><code class="php">// In everywhere
$config = Ioc::getConfig();

$foo = $config-&gt;get('foo');

// You can also get data by array access.

$foo = $config['foo'];
</code></pre>

<p>Config is a Registry object, please see <a href="../more/registry.html">Registry Object</a></p>

<h3>Nested Data</h3>

<p>If you have multi-level config:</p>

<pre><code class="yaml">morning:
    break:
        first: egg
</code></pre>

<p>Please use dot (<code>.</code>) as separator:</p>

<pre><code class="php">$config-&gt;get('morning.break.first'); // sakura

// OR

$config['morning.break.first']; // sakura
</code></pre>

<h2>Add New Config Files</h2>

<p>Open <code>src/Windwalker/Web/Application.php</code> and modify <code>loadConfiguration()</code>, you can load any files as config if you want.</p>

<pre><code class="php">protected function loadConfiguration(Registry $config)
{
    Windwalker::loadConfiguration($config);

    $config-&gt;loadFile(WINDWALKER_ETC . '/my-config.yml', 'yaml');

    // Or load other formats
    $config-&gt;loadFile(WINDWALKER_ETC . '/my-config.ini', 'ini');

    $config-&gt;loadFile(WINDWALKER_ETC . '/my-config.xml', 'xml');

    $config-&gt;loadFile(WINDWALKER_ETC . '/my-config.php', 'php'); // Must return array
}
</code></pre>

<h2>Package Config</h2>

<p>Every packages has their own configs. If you have a <code>FlowerPackage</code> and it's alias is <code>flower</code>, create a file to <code>etc/package/flower.yaml</code>.
Package object will auto load this config file.</p>

<p>You can get package config from package object:</p>

<pre><code class="php">$package = PackageHelper::getPackage('flower');

$package-&gt;get('foo');
</code></pre>

<h2>Description of Config</h2>

<p>The config.yml looks like above:</p>

<pre><code class="yaml">system:
    debug: 0
    error_reporting: 0
    timezone: 'UTC'
    secret: 'This-token-is-not-safe'
session:
    handler: native
    expire_time: 15
routing:
    debug: 0
cache:
    enabled: 0
    storage: file
    handler: serialize
    dir: cache
    time: 15
language:
    debug: 0
    locale: en-GB
    default: en-GB
    format: ini
    path: resources/languages
</code></pre>

<table>
<thead>
<tr>
  <th>Key</th>
  <th>Sub Key</th>
  <th>Value</th>
</tr>
</thead>
<tbody>
<tr>
  <td><code>system</code></td>
  <td></td>
  <td></td>
</tr>
<tr>
  <td></td>
  <td><code>debug</code></td>
  <td>Enable debug mode or not</td>
</tr>
<tr>
  <td></td>
  <td><code>error_reporting</code></td>
  <td>PHP error_reporting setting, set -1 to enable strict mode, set 0 to close all error messages.</td>
</tr>
<tr>
  <td></td>
  <td><code>timezone</code></td>
  <td>The default system timezone.</td>
</tr>
<tr>
  <td></td>
  <td><code>secret</code></td>
  <td>A random string as secret code to generate some tokens</td>
</tr>
<tr>
  <td><code>session</code></td>
  <td></td>
  <td></td>
</tr>
<tr>
  <td></td>
  <td><code>handler</code></td>
  <td>The session handler, <code>native</code> is the native php session handler, you can use <code>database</code> or <code>memcache</code>, please see <a href="https://github.com/ventoviro/windwalker/tree/master/src/Session#windwalker-session">Windwalker Session</a></td>
</tr>
<tr>
  <td></td>
  <td><code>expire_time</code></td>
  <td>Session expire time, the unit is minute.</td>
</tr>
<tr>
  <td><code>routing</code></td>
  <td></td>
  <td></td>
</tr>
<tr>
  <td></td>
  <td><code>debug</code></td>
  <td>Enable routing debug, see <a href="./documentation/mvc/uri-route-building.html">Routing</a></td>
</tr>
<tr>
  <td><code>cache</code></td>
  <td></td>
  <td></td>
</tr>
<tr>
  <td></td>
  <td><code>enabled</code></td>
  <td>Enable system cache.</td>
</tr>
<tr>
  <td></td>
  <td><code>storage</code></td>
  <td>Cache storage, FileStorage is the default. See <a href="./documentation/more/caching.html">Caching</a></td>
</tr>
<tr>
  <td></td>
  <td><code>handler</code></td>
  <td>Hot cache convert array and object to string.</td>
</tr>
<tr>
  <td></td>
  <td><code>dir</code></td>
  <td>Cache storage folder.</td>
</tr>
<tr>
  <td></td>
  <td><code>time</code></td>
  <td>Cache TTL time (minute).</td>
</tr>
<tr>
  <td><code>language</code></td>
  <td></td>
  <td></td>
</tr>
<tr>
  <td></td>
  <td><code>debug</code></td>
  <td>Enable Language debug.</td>
</tr>
<tr>
  <td></td>
  <td><code>locale</code></td>
  <td>The current locale.</td>
</tr>
<tr>
  <td></td>
  <td><code>default</code></td>
  <td>The default locale.</td>
</tr>
<tr>
  <td></td>
  <td><code>format</code></td>
  <td>The language translate file format. See <a href="https://github.com/ventoviro/windwalker/tree/master/src/Language">Windwalker Language</a></td>
</tr>
<tr>
  <td></td>
  <td><code>path</code></td>
  <td>The language file path.</td>
</tr>
</tbody>
</table>

                        <hr />

    <p class="text-center inner-top-sm">
        If you found a typo or error, please help us <a target="_blank" href="https://github.com/ventoviro/ventoviro.github.io/tree/master/.vaseman/entries/documentation/2.1/start/config.md">improve</a> this document.
    </p>
                </article>
            </div>
        </div>
    </section>
</div>

<section id="footer" class="black-block inner-md text-center">

    <div class="container inner-top-md inner-bottom-sm">
        
        <p>
            <a href="https://github.com/ventoviro/windwalker" class="btn" target="_blank">
                <i class="fa fa-github"></i>
                GitHub
            </a>

            <a href="http://natika.windwalker.io" class="btn" target="_blank">
                <i class="fa fa-comments"></i>
                Forum
            </a>

            <a href="http://windwalker.io/api-site/" class="btn" target="_blank">
                <i class="fa fa-code"></i>
                API
            </a>
        </p>

        <p class="outer-top-xs">
            <a href="#header" class="text-center footer-logo">
                <img class="img-invert" width="250" src="../../../media/images/logo/windwalker-logo-250.png" alt="Logo" style="">
            </a>
        </p>

        <p class="lead outer-top-xs">
            Copyright Â© 2016 Windwalker. All Rights Reserved.
        </p>
    </div>

</section>

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:400,500,700,900,300|Roboto+Condensed:400,700|Roboto+Slab:400,700,300" />
<link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/icon?family=Material+Icons">
<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" />
<link rel="stylesheet" href="../../../media/css/ripples.min.css" />
<link rel="stylesheet" href="../../../media/css/prism.min.css" />

<!-- Bootstrap core JavaScript
   ================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<script src="../../../media/js/jquery.min.js"></script>
<script src="../../../media/js/jquery.smooth-scroll.min.js"></script>
<script src="../../../media/js/bootstrap.min.js"></script>
<script src="../../../media/js/material.min.js"></script>
<script src="../../../media/js/ripples.min.js"></script>
<script src="../../../media/js/prism.js"></script>
<script>
    $(document).ready(function() {

        // Init Material
        $.material.init();

        // Code Block
        $('.article-content pre code').each(function(i, block) {
            var $this = $(this);

            $this.attr('class', 'language-' + $this.attr('class'));
        });

        // Smooth scroll
        setTimeout(function ()
        {
            $('body a').smoothScroll({
                afterScroll:function (event) {
                    document.location.hash = this.hash
                }
            });
        }, 500);

        // Table style
        // Convert table style
        var tables = $('.article-content table');

        tables.addClass('table').addClass('table-striped');

        // Navbar
        var navTop;
        var hasColor = false;
        var nav = $('#nav .navbar');

        processScrollInit();
        processScroll();

        $(window).on('resize', processScrollInit);
        $(window).on('scroll', processScroll);

        function processScrollInit()
        {
            if (nav.length) {
                navTop = nav.length && 60;

                // Only apply the scrollspy when the toolbar is not collapsed
                if (document.body.clientWidth > 480)
                {
//                        $('.subhead-collapse').height(nav.height());
                    nav.scrollspy({offset: {top: nav.offset().top}});
                }
            }
        }

        function processScroll()
        {
            if (nav.length) {
                var scrollTop = $(window).scrollTop();

                if (scrollTop >= navTop && !hasColor) {
                    hasColor = true;
                    nav.addClass('navbar-primary');
                } else if (scrollTop <= navTop && hasColor) {
                    hasColor = false;
                    nav.removeClass('navbar-primary');
                }
            }
        }
    });

</script>

    <script src="../../../media/js/doc.js"></script>

<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-48372917-6', 'auto');
    ga('send', 'pageview');

</script>

</body>
</html>
