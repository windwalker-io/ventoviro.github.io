<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="shortcut icon" href="../../media/images/favicon.ico" />

    <title>Phoenix Core Script | Windwalker - A Modern PHP Framework</title>

    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" />
    <link rel="stylesheet" href="../../media/css/bootstrap.css" />
    <link rel="stylesheet" href="../../media/css/bootstrap-material-design.css" />
    <link rel="stylesheet" href="../../media/css/ripples.css" />
    <link rel="stylesheet" href="../../media/css/main.css" />
    <link rel="stylesheet" href="../../media/css/prism.css" />

    <meta name="description" content="">
    <meta name="generator" content="The Time Machine">

    <meta property="og:title" content="Phoenix Core Script | Windwalker - A Modern PHP Framework">
    <meta property="og:site_name" content="Windwalker Framework">

    
    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../../media/js/jquery.js"></script>
    <script src="../../media/js/jquery.smooth-scroll.js"></script>
    <script src="../../media/js/bootstrap.js"></script>
    <script src="../../media/js/material.js"></script>
    <script src="../../media/js/ripples.js"></script>
    <script src="../../media/js/prism.js"></script>
    <script>
        $(document).ready(function() {

            // Init Material
            $.material.init();

            // Code Block
            $('.article-content pre code').each(function(i, block) {
                var $this = $(this);

                $this.attr('class', 'language-' + $this.attr('class'));
            });

            // Smooth scroll
            setTimeout(function ()
            {
                $('body a').smoothScroll({
                    afterScroll:function (event) {
                        document.location.hash = this.hash
                    }
                });
            }, 500);

            // Table style
            // Convert table style
            var tables = $('.article-content table');

            tables.addClass('table').addClass('table-striped');

            // Navbar
            var navTop;
            var hasColor = false;
            var nav = $('#nav .navbar');

            processScrollInit();
            processScroll();

            $(window).on('resize', processScrollInit);
            $(window).on('scroll', processScroll);

            function processScrollInit()
            {
                if (nav.length) {
                    navTop = nav.length && 60;

                    // Only apply the scrollspy when the toolbar is not collapsed
                    if (document.body.clientWidth > 480)
                    {
//                        $('.subhead-collapse').height(nav.height());
                        nav.scrollspy({offset: {top: nav.offset().top}});
                    }
                }
            }

            function processScroll()
            {
                if (nav.length) {
                    var scrollTop = $(window).scrollTop();

                    if (scrollTop >= navTop && !hasColor) {
                        hasColor = true;
                        nav.addClass('navbar-primary');
                    } else if (scrollTop <= navTop && hasColor) {
                        hasColor = false;
                        nav.removeClass('navbar-primary');
                    }
                }
            }
        });

    </script>

        <script src="../../media/js/doc.js"></script>
</head>
<body class="">

    <section id="header">

                    <nav id="nav">

    <div class="navbar navbar-transparent">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-responsive-collapse">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="../../">
                    <img class="img-invert" src="../../media/images/logo/windwalker-logo.png" alt="Logo" style="max-height: 100%">
                </a>
            </div>
            <div class="navbar-collapse collapse navbar-responsive-collapse">
                                                                                                                                                                                                                                                                                

                <ul class="mainmenu nav navbar-nav navbar-right">
                    <li class="">
                        <a href="../../about/">
                            <i class="material-icons">change_history</i>
                            <span class="menu-item-title">About</span>
                        </a>
                    </li>

                    <li class="">
                        <a href="../../documentation/3.x/start/installation.html">
                            <i class="material-icons">description</i>
                            <span class="menu-item-title">Documentation</span>
                        </a>
                    </li>

                    <li class="active">
                        <a href="../../rad/start/introduction.html">
                            <i class="material-icons">graphic_eq</i>
                            <span class="menu-item-title">RAD</span>
                        </a>
                    </li>

                    <li class="">
                        <a href="https://github.com/ventoviro/windwalker" target="_blank">
                            <i class="fa fa-fw fa-github"></i>
                            <span class="menu-item-title">GitHub</span>
                        </a>
                    </li>

                                    </ul>
            </div>
        </div>
    </div>

</nav>
        
        <section id="banner" class="container text-center">
            <div class="row">
                <div class="banner-content col-md-10">
                    <h1 class="banner-title">Phoenix Core Script</h1>
                </div>
            </div>
        </section>

    </section>

<div id="main-body" class="main main-raised main-raised-bottom">
        <section id="main-body" class="container main-block">
        <div class="row">
            <div class="col-md-3">
                    <div class="uk-width-medium-1-4 uk-container-center">
        <ul class="nav nav-stacked side-menu side-bar">
    
    
        <li class="nav-header">
        <h3 class="slab-font">Phoenix RAD</h3>
    </li>
                    <li class="">
                <a class="withripple" href="../../rad/start/introduction.html">Introduction</a>
            </li>
                    <li class="">
                <a class="withripple" href="../../rad/start/getting-started.html">Getting Started</a>
            </li>
                    <li class="">
                <a class="withripple" href="../../rad/start/core.html">Core Concept</a>
            </li>
                    <li class="">
                <a class="withripple" href="../../rad/start/generator.html">Generator</a>
            </li>
        
           <li class="nav-header">
        <h3 class="slab-font">Tutorial</h3>
    </li>
                    <li class="">
                <a class="withripple" href="../../rad/tut/guide.html">Admin UI Guide</a>
            </li>
                    <li class="">
                <a class="withripple" href="../../rad/tut/start.html">Start A Blog</a>
            </li>
                    <li class="">
                <a class="withripple" href="../../rad/tut/grid.html">Prepare Grid View</a>
            </li>
                    <li class="">
                <a class="withripple" href="../../rad/tut/form.html">Form &amp; Edit</a>
            </li>
                    <li class="">
                <a class="withripple" href="../../rad/tut/filter.html">Filter &amp; Search</a>
            </li>
                    <li class="">
                <a class="withripple" href="../../rad/tut/batch.html">Batch</a>
            </li>
        
           <li class="nav-header">
        <h3 class="slab-font">Javascript</h3>
    </li>
                    <li class="">
                <a class="withripple" href="../../rad/js/jquery.html">jQuery</a>
            </li>
                    <li class="">
                <a class="withripple" href="../../rad/js/libraries.html">Base Libraries</a>
            </li>
                    <li class="active">
                <a class="withripple" href="../../rad/js/core.html">Phoenix Core</a>
            </li>
                    <li class="">
                <a class="withripple" href="../../rad/js/grid.html">Grid</a>
            </li>
                    <li class="">
                <a class="withripple" href="../../rad/js/validation.html">Validation</a>
            </li>
                    <li class="">
                <a class="withripple" href="../../rad/js/crypto.html">Crypto</a>
            </li>
                    <li class="">
                <a class="withripple" href="../../rad/js/csrf.html">CSRF for Ajax</a>
            </li>
                    <li class="">
                <a class="withripple" href="../../rad/js/bootstrap.html">Bootstrap</a>
            </li>
                    <li class="">
                <a class="withripple" href="../../rad/js/vue.html">Vue</a>
            </li>
        
       </ul>
    </div>
            </div>

            <div class="col-md-9">
                <article class="article-content">
                    <h2>Introduction</h2>

<p>Phoenix provides a set of useful scripts to help us operate form and input, these scripts based on jQuery so every developers
can easily learn how to use and integrate it with their own scripts.</p>

<h2>Phoenix Core</h2>

<p>Phoenix core script is a HTML form operation helper, it will auto included if you generate a phoenix admin template,
but you can also include it manually in everywhere with first argument as css selector.</p>

<pre><code class="php">// In View class
\Phoenix\Script\PhoenixScript::core();

// Custom selector
\Phoenix\Script\PhoenixScript::core('#my-form');

// Custom selector and use other variable name.
\Phoenix\Script\PhoenixScript::core('#my-form', 'MyPhoenix');

// In Template
&lt;?php \Phoenix\Script\PhoenixScript::core(); ?&gt;

OR

@php(\Phoenix\Script\PhoenixScript::core())
</code></pre>

<p>The <code>jquery.js</code> and <code>phoenix.js</code> will be auto included to HTML head.</p>

<p>And you must have a <code>&lt;form id="#admin-form"&gt; ...</code> element in your HTML so Phoenix can operate this form.</p>

<h2>Submit and RESTful CRUD</h2>

<p>You can simply use this JS code to submit form:</p>

<pre><code class="js">// Submit with default action defined on &lt;form action="..."&gt;
Phoenix.submit();

// Submit with custom URI and query
Phoenix.submit('/flower/sakuras', {page: 3});

// Send POST
Phoenix.submit('/flower/sakura', data, 'POST');

// Send custom RESTful method, will add `_method` to your params
Phoenix.submit('/flower/sakura', data, 'POST', 'PUT');
</code></pre>

<p>Use simple methods:</p>

<pre><code class="js">// GET
Phoenix.get('/flower/sakura/25', query);

// POST
Phoenix.post('/flower/sakura/25', query);

// POST with custom method
Phoenix.post('/flower/sakura/25', query, 'PUT');

// PUT
Phoenix.put('/flower/sakura/25', query);

// PATCH
Phoenix.patch('/flower/sakura/25', query);

// DELETE
Phoenix.sendDelete('/flower/sakura/25', query);
</code></pre>

<p>On click event in HTML element:</p>

<pre><code class="html">&lt;button type="button" onclick="Phoenix.post()"&gt;&lt;/button&gt;
</code></pre>

<h2>Routes</h2>

<p>Use <code>Router</code> to print route to HTML.</p>

<pre><code class="php">&lt;button type="button" onclick="Phoenix.post('{{ $router-&gt;route('sakura', ['id' =&gt; 25]) }}')"&gt;&lt;/button&gt;
</code></pre>

<p>The output</p>

<pre><code class="html">&lt;button type="button" onclick="Phoenix.post('/flower/sakura/25')"&gt;&lt;/button&gt;
</code></pre>

<h3>Use Phoenix JS Router:</h3>

<p>Add route settings in PHP</p>

<pre><code class="php">\Phoenix\Script\PhoenixScript::addRoute('sakura_save', $router-&gt;route('sakura', ['id' =&gt; 25]));
</code></pre>

<p>And get this route by <code>Phoenix.Router</code>:</p>

<pre><code class="html">&lt;button type="button" onclick="Phoenix.post(Phoenix.Router.route('sakura_save'))"&gt;&lt;/button&gt;
</code></pre>

<p>Get route in anywhere, for example, use it in ajax call:</p>

<pre><code class="js">$.ajax({
    url: Phoenix.Router.route('sakura_save'),
    data: data,

    // ...
}).done(...)
</code></pre>

<h2>Translate</h2>

<p>If you has a language key:</p>

<pre><code class="ini">flower.message.sakura="Sakura"
</code></pre>

<p>Add language key to JS by php:</p>

<pre><code class="php">\Phoenix\Script\PhoenixScript::translate('flower.message.sakura');
</code></pre>

<p>Now you can get this language string in JS:</p>

<pre><code class="js">Phoenix.Translator.translate('flower.message.sakura'); // Sakura

// You can also use sprintf() and plural()
Phoenix.Translator.sprintf('flower.message.sakura', 'arg1', 'arg2');
Phoenix.Translator.plural('flower.message.sakura', 3);
</code></pre>

<p>See <a href="../../documentation/3.x/services/languages.html">Translator</a></p>

<h2>Messages</h2>

<p>Use JS code <code>addMessage()</code> to render message to template:</p>

<pre><code class="js">Phoenix.addMessage('Hello World');
</code></pre>

<p><img src="https://cloud.githubusercontent.com/assets/1639206/17009420/f958386c-4f2c-11e6-85d4-ae41c3bf73c9.jpg" alt="p-2016-07-21-001" /></p>

<p>Use other styles</p>

<pre><code class="js">Phoenix.addMessage('Hello World', 'info');
Phoenix.addMessage('Hello World', 'success');
Phoenix.addMessage('Hello World', 'warning');
Phoenix.addMessage('Hello World', 'danger');
</code></pre>

<p>Multiple messages:</p>

<pre><code class="js">Phoenix.addMessage(['Foo', 'Bar'], 'info');
</code></pre>

<p>Remove messages:</p>

<pre><code class="js">Phoenix.removeMessages();
</code></pre>

<h3>Keep Alive</h3>

<p>If you are writing a form with long textarea, you will hope the session do not expired, use <code>keepAlive()</code> in php.</p>

<pre><code class="php">PhoenixScript::keepAlive();
</code></pre>

                        <hr />

    <p class="text-center inner-top-sm">
        If you found a typo or error, please help us <a target="_blank" href="https://github.com/ventoviro/ventoviro.github.io/tree/master/.vaseman/entries/rad/js/core.md">improve</a> this document.
    </p>
                </article>
            </div>
        </div>
    </section>
</div>

<section id="footer" class="black-block inner-md text-center">

    <div class="container inner-top-md">
        
        <p>
            <a href="https://github.com/ventoviro/windwalker" class="btn" target="_blank">
                <i class="fa fa-github"></i>
                GitHub
            </a>

            <a href="http://natika.windwalker.io" class="btn" target="_blank">
                <i class="fa fa-comments"></i>
                Forum
            </a>

            <a href="http://windwalker.io/api-site/" class="btn" target="_blank">
                <i class="fa fa-code"></i>
                API
            </a>
        </p>

        <p class="outer-top-xs">
            <a href="#header" class="text-center footer-logo">
                <img class="img-invert" width="250" src="../../media/images/logo/windwalker-logo.png" alt="Logo" style="">
            </a>
        </p>

        <p class="lead outer-top-xs">
            Copyright Â© 2016 Windwalker. All Rights Reserved.
        </p>
    </div>

</section>

<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-48372917-6', 'auto');
    ga('send', 'pageview');

</script>

</body>
</html>
